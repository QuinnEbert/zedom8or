{
    "type": "Ext.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "ui": "dark",
        "designer|userClassName": "initView",
        "designer|userAlias": "initView",
        "designer|initialView": true
    },
    "designerId": "f46a7a07-9732-4d6d-9c1b-d7afc34ecb6e",
    "cn": [
        {
            "type": "Ext.TitleBar",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "docked": "top",
                "title": "Z Remote"
            },
            "designerId": "38c87c8d-f5bc-4b7d-9dc3-1fd006cb9045"
        },
        {
            "type": "Ext.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "centered": true,
                "height": null,
                "id": "welcomer",
                "itemId": "welcomer",
                "width": 200,
                "designer|displayName": "welcomer"
            },
            "designerId": "3259007e-61ed-428b-b5cf-c945f5736032",
            "cn": [
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "centered": false,
                        "html": "Z Remote",
                        "id": "welcomeA",
                        "itemId": "welcomeA",
                        "style": "text-align: center;",
                        "designer|displayName": "welcomeA"
                    },
                    "designerId": "1d5fc6d4-29a7-4730-b2a5-9fc736867f4a"
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "centered": false,
                        "html": "You need to configure Z8 Remote to connect to a Zedom8or PHP server setup.",
                        "id": "welcomeB",
                        "itemId": "welcomeB",
                        "padding": "6pt 0px 6pt 0px",
                        "style": "text-align: center; font-size: 10pt; color: #888;",
                        "designer|displayName": "welcomeB"
                    },
                    "designerId": "7857d415-f8f1-44c0-bd0d-8b08106eead9"
                },
                {
                    "type": "Ext.Label",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "centered": false,
                        "html": "If you have already configured this and see this screen, it is an indication your server is unreachable, please make sure you are connected and try saving the setting again.",
                        "id": "welcomeC",
                        "itemId": "welcomeC",
                        "padding": "0px 0px 6pt 0px",
                        "style": "text-align: center; font-size: 8pt; color: #A88; font-style: italic;",
                        "designer|displayName": "welcomeC"
                    },
                    "designerId": "c687601f-3e8d-4e3a-aa53-f549c927931a"
                },
                {
                    "type": "Ext.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "border": null,
                        "height": null,
                        "id": "myServer",
                        "itemId": "myServer",
                        "style": "border: 2px #000 solid;",
                        "designer|displayName": "myServer",
                        "label": null,
                        "name": "myServer",
                        "required": true,
                        "placeHolder": "http://path.to/zedom8or/myMobile.php"
                    },
                    "designerId": "dec63575-123a-42d2-a09d-bce8356c80b5"
                },
                {
                    "type": "Ext.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "id": "saveConf",
                        "itemId": "saveConf",
                        "margin": "6 0 0 0",
                        "padding": null,
                        "ui": "action",
                        "designer|displayName": "saveConf",
                        "text": "Continue"
                    },
                    "designerId": "f11e149b-7469-4d66-9332-ed5fdd905cd9",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSaveConfTap",
                                "implHandler": [
                                    "console.log('Z8: configuration commit requested...');",
                                    "var z = Ext.getStore('confData');",
                                    "var x = 0;",
                                    "var y = (z.getCount()-1);",
                                    "var w = z.getCount();",
                                    "console.log('    ');",
                                    "console.log('    Check config:');",
                                    "console.log('      '+w.toString()+' local storage items');",
                                    "if ( w < 1 ) {",
                                    "    Ext.getStore('confData').add({key:'server',value:Ext.getCmp('myServer').getValue()});",
                                    "    Ext.getStore('confData').sync();",
                                    "} else {",
                                    "    Ext.getStore('confData').remove(Ext.getStore('confData').getRange());",
                                    "    Ext.getStore('confData').sync();",
                                    "}",
                                    "console.log('    ');",
                                    ""
                                ],
                                "name": "tap"
                            },
                            "designerId": "72f17333-6f63-4c32-a1e4-754fd7c1df42"
                        }
                    ]
                }
            ]
        },
        {
            "type": "basiceventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onPanelShow",
                "implHandler": [
                    "console.log('Z8: initView is showing...');",
                    "var z = Ext.getStore('confData');",
                    "var x = 0;",
                    "var y = (z.getCount()-1);",
                    "var w = z.getCount();",
                    "if (Ext.getCmp('areFresh').getValue()=='1') {",
                    "    console.log('  ');",
                    "    console.log('  Fresh start-up of app >>>');",
                    "\tconsole.log('    ');",
                    "\tconsole.log('    Check config:');",
                    "\tconsole.log('      '+w.toString()+' local storage items');",
                    "\tif ( w < 1 ) {",
                    "\t\t// Do nothing!",
                    "\t} else {",
                    "        Ext.Viewport.setActiveItem('mainView');",
                    "\t}",
                    "    Ext.getCmp('areFresh').setValue('2');",
                    "} else {",
                    "    console.log('  ');",
                    "    console.log('  Showing as configuration interface >>>');",
                    "\tconsole.log('    ');",
                    "\tconsole.log('    Check config:');",
                    "\tconsole.log('      '+w.toString()+' local storage items');",
                    "\tif ( w < 1 ) {",
                    "\t\t// Do nothing!",
                    "\t} else {",
                    "\t\tExt.getCmp('myServer').setValue(Ext.getStore('confData').getAt(0).get('value'));",
                    "\t}",
                    "}",
                    "console.log('    ');",
                    ""
                ],
                "name": "show"
            },
            "designerId": "0e48e4ac-913d-4fa3-b8b8-954fcdf6e83a"
        },
        {
            "type": "Ext.field.Hidden",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "id": "areFresh",
                "itemId": "areFresh",
                "designer|displayName": "areFresh",
                "name": "areFresh",
                "value": [
                    "1"
                ]
            },
            "designerId": "c9c2177a-cd92-46b2-9e00-77e637d603bf"
        }
    ]
}